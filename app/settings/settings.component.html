<div class="container animated-page">
    <div class="row">
        <div class="col-xs-24">
            <h4 class="header-seperator">User Information</h4>
            <div class="col-xs-24" *ngIf="lastfmusername && lastfmusername.length > 0 && lastfmusername !== 'mdb-skipped'">
                <span class="color-type-secondary">Connected to last.fm:</span> <span>{{lastfmusername && lastfmusername.length > 0}} <span class="color-type-secondary">({{lastfmusername}})</span></span>
                <a (click)="removeLastfm()"><i class="glyph glyph-delete"></i> remove token</a>
            </div>
            <div class="col-xs-24" *ngIf="lastfmusername && lastfmusername === 'mdb-skipped'">
                <span class="color-type-secondary">Local last played tracking:</span> <span>true</span>
                <a (click)="removeLastfm()"><i class="glyph glyph-delete"></i> remove token</a>
            </div>
            <div class="col-xs-24"><span class="color-type-secondary">Connected to:</span> <span>{{connectiontype}} <span class="color-type-secondary">({{connectiondetails}})</span></span>
                <a (click)="removeConnection()" *ngIf="connectiondetails"><i class="glyph glyph-delete"></i> remove token</a>
                <a routerLink="/login" *ngIf="!connectiondetails"><i class="glyph glyph-admin"></i> login</a>
            </div>
            <div class="col-xs-24">
                <span class="color-type-secondary">Reload collection</span>
                <button (click)="reloadCollection()" [disabled]="isReloading" *ngIf="!isReloading" class="btn btn-primary"> 
                    <i class="glyph glyph-sync"></i> now</button>
                <span *ngIf="!scanperc && isReloading"><div class="progress-bar" style="margin-left: 100px;">
                    <div class="progress-circle"></div>
                    <div class="progress-circle"></div>
                    <div class="progress-circle"></div>
                    <div class="progress-circle"></div>
                    <div class="progress-circle"></div>
                </div></span>
                <span *ngIf="scanperc && isReloading">{{scanperc}}% done</span>
            </div>
            <div class="col-xs-24">
                <span class="color-type-secondary">Save playliststate:</span>
                <div class="btn-group">
                    <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': savePlaylistState, 'theme-alt': mode === 'dark'}" (click)="toggleSavePlaylistState()">
            <span class="stateLabel stateLabel-on">On</span>
            <span class="stateLabel stateLabel-off">Off</span>
        </button>
                </div>
            </div>
            <div class="col-xs-24" *ngIf="lastfmusername && lastfmusername.length > 0 && lastfmusername !== 'mdb-skipped'">
                <span class="color-type-secondary">Manual scrobbling:</span>
                <div class="btn-group">
                    <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': manualScrobbling, 'theme-alt': mode === 'dark'}" (click)="toggleManualScrobbling()">
            <span class="stateLabel stateLabel-on">On</span>
            <span class="stateLabel stateLabel-off">Off</span>
        </button>
                </div>
                <span class="color-type-secondary" *ngIf="manualScrobblingList && manualScrobblingList.length > 0">({{manualScrobblingList.length}} item<span *ngIf="manualScrobblingList.length > 1">s</span> in list)<br>
                <a (click)="scrobbleNow()">Scrobble now</a> <br />
                <a (click)="viewList()">View tracks in scrobble cache</a></span>
            </div>
            <div class="col-xs-24">
                <span class="color-type-secondary">Continues play:</span>
                <div class="btn-group">
                    <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': isContinuesplay, 'theme-alt': mode === 'dark'}" (click)="toggleContinuesPlay()">
            <span class="stateLabel stateLabel-on">On</span>
            <span class="stateLabel stateLabel-off">Off</span>
        </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-24">
            <h4 class="header-seperator">Interface settings</h4>
            <form [ngClass]="{'theme-alt': mode === 'dark'}" #themeForm="ngForm">
                <div class="form-group">
                    <p class="form-group-label">Theme</p>
                    <div class="radio">
                        <label>
                        <input type="radio" name='theme' value="light" [(ngModel)]="settings.theme" #name="ngModel" name="theme">
                        <span>Light</span>
                    </label>
                    </div>
                    <div class="radio">
                        <label>
                        <input type="radio" name='theme' value="dark" [(ngModel)]="settings.theme" #name="ngModel" name="theme">
                        <span>Dark</span>
                    </label>
                    </div>
                    <div class="radio">
                        <label>
                        <input type="radio" name='theme' value="auto" [(ngModel)]="settings.theme" #name="ngModel" name="theme">
                        <span>Auto</span> <span class="small color-type-secondary">Dark mode between 21:00 and 07:00</span>
                    </label>
                    </div>
                </div>
                <div class="form-group" *ngIf="isVisualCapable">
                    <span class="color-type-secondary">Show visualisation on now playing screen:</span>
                    <div class="btn-group">
                        <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': visualisation, 'theme-alt': mode === 'dark'}" (click)="toggleVisualisation()">
                            <span class="stateLabel stateLabel-on">Yes</span>
                            <span class="stateLabel stateLabel-off">No</span>
                        </button>
                    </div>
                </div>
                <div class="form-group" *ngIf="visualisation && isVisualCapable">
                    <span class="color-type-secondary">Show smaller album-art on now playing screen:</span>
                    <div class="btn-group">
                        <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': smallArt, 'theme-alt': mode === 'dark'}" (click)="toggleSmallArt()">
                            <span class="stateLabel stateLabel-on">Yes</span>
                            <span class="stateLabel stateLabel-off">No</span>
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <span class="color-type-secondary">Prefer video if available:</span>
                    <div class="btn-group">
                        <button type="button" data-toggle="button" class="btn btn-toggle-switch" autocomplete="off" aria-pressed="false" [ngClass]="{'active': preferVideo, 'theme-alt': mode === 'dark'}" (click)="togglePreferVideo()">
                            <span class="stateLabel stateLabel-on">On</span>
                            <span class="stateLabel stateLabel-off">Off</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-24">
            <h4 class="header-seperator">Collection Information</h4>
            <div class="col-xs-24"><span class="color-type-secondary">Artists:</span> <span>{{totals.artists}}</span></div>
            <div class="col-xs-24"><span class="color-type-secondary">Albums:</span> <span>{{totals.albums}}</span></div>
            <div class="col-xs-24"><span class="color-type-secondary">Tracks:</span> <span>{{totals.tracks}}</span></div>
            <div class="col-xs-24" *ngIf="totals.playingTime"><span class="color-type-secondary">Playing time:</span> <span>{{totals.playingTime | timeFormat }}</span></div>
            <div class="col-xs-24"><span class="color-type-secondary">Last parsed</span> <span>{{lastParsed | date: 'medium'}}</span></div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-24">
            <h4 class="header-seperator">Build date</h4>
            <div class="col-xs-24"><span class="color-type-secondary">date:</span> <span>{{version }}</span></div>
        </div>
    </div>
</div>